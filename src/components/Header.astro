---
// TODO: add potential sidebar logic
const sidebar = false;
const showSidebar = () => {};
---

<header>
  <nav class="navbar-container">
    <ol>
      <li aria-label="scroll down to about section">
        <a href="#about">about</a>
      </li>
      <li>
        <a href="#projects" data-astro-prefetch>projects</a>
      </li>
      <li class="navbar-item resume">
        <a href="/resume.pdf" target="_blank" rel="noopener noreferrer">résumé</a>
      </li>
    </ol>
    <li>
      <a class="hit-me-up" href="#" aria-label="mail me section">contact</a>
    </li>
  </nav>
  {sidebar && <div class="background-sidebar" aria-label="background sidebar exit from menu" />}
  <aside class="sidebar-container">
    <div class="navbar">
      <!-- TODO: add close icon aria-label="close menu" class="menu-bars" -->
    </div>
    <nav class={`nav-menu ${sidebar ? 'active' : ''}`}>
      <ul class="nav-menu-items">
        <li class="navbar-child">
          <a href="#about" data-astro-prefetch aria-label="about section">about</a>
        </li>
        <li class="navbar-child">
          <a href="#projects" data-astro-prefetch aria-label="projects section">projects</a>
        </li>
        <li class="navbar-child">
          <a href="/resume.pdf" target="_blank" rel="noopener noreferrer">résumé</a>
        </li>
        <li class="navbar-child">
          <a href="#" aria-label="mail me section">contact</a>
        </li>
        <li class="navbar-toggle">
          <!-- TODO: add open icon aria-label="open menu" class="menu-bars close" -->
        </li>
      </ul>
    </nav>
  </aside>
</header>

<style>
  .navbar-container {
    display: none;
    width: 100%;

    @media (min-width: 50em) {
      display: flex;
      align-self: center;
      background: none;
      transition: var(--transition);

      ol {
        display: flex;
        background: none;
        flex-direction: row;
        justify-content: center;
        gap: 4rem;
        padding: 1px;
      }

      li {
        background: none;
        list-style: none;
        width: fit-content;
        font-size: 1rem;
        transition: var(--transition);
        font-family: 'Messapia Bold', sans-serif;
        text-transform: uppercase;

        &:hover {
          transform: translateY(-3px);
          transition: var(--transition);
        }
      }

      a {
        padding: 0;
        text-decoration: none;
        background: none;
      }
      .hit-me-up {
        right: 0;
        margin-right: 2rem;
      }
    }
  }

  .sidebar-container {
    display: flex;
    position: sticky;
    z-index: 10;
    margin-top: 10px;
    margin-right: 10px;
    right: 0;
  }

  .background-sidebar {
    position: absolute;
    width: 100%;
    height: 100vh;
    top: 0;
    bottom: 0;
    z-index: 9;
    backdrop-filter: blur(5px);
    background: rgba(0, 0, 0, 0.56);
  }

  .nav-menu {
    visibility: hidden;
    background-color: var(--background);
    width: 100%;
    height: 100vh;
    display: flex;
    justify-content: center;
    position: fixed;
    top: 0;
    right: -100%;
    transition: ease 350ms;

    &.active {
      width: 70%;
      visibility: visible;
      position: fixed;
      right: 0;
      transition: ease 350ms;
      -webkit-transition: ease 350ms;
    }
  }

  .navbar {
    position: absolute;
    display: flex;
    width: 100%;
    background: none;
    justify-content: flex-end;
  }

  .menu-bars {
    width: fit-content;
    display: flex;
    font-size: 2.5rem;
    background: none !important;

    path {
      color: var(--text-light);
    }

    &.close {
      position: relative;
      top: 50%;
      left: 50%;
      transform: translate(-50%, 100%);

      path {
        color: var(--yellow-background);
      }
    }
  }

  .navbar-toggle {
    position: relative;
    display: flex;
  }

  .nav-menu-items {
    position: relative;
    display: flex;
    background-color: var(--background);
    gap: 3rem;
    width: 150px;
    flex-direction: column;
    justify-content: center;
    transition: 350ms;

    li,
    a,
    span {
      text-decoration: none;
      list-style: none;
      color: var(--yellow-background);
      font-size: 2rem;
      background-color: var(--background);
      border-radius: 5px;
    }

    a {
      width: fit-content;
    }
  }

  .navbar-child {
    width: fit-content;
    font-family: 'Messapia Bold', sans-serif;
    display: flex;
    align-items: center;
    list-style: none;
    height: 3rem;

    a {
      font-size: 1.4rem;
      text-transform: uppercase;
    }
  }

  @media (min-width: 50em) {
    .sidebar-container {
      display: none;
    }
  }
</style>
